# Blockchain Configuration
CHAIN_ID=aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906
RPC_URL=https://eos.greymass.com
CONTRACT_ACCOUNT=polaris

# Chain Ingestion Source (T6)
# Options: substreams (primary, recommended) | ship (NOT IMPLEMENTED - will fail)
# CRITICAL: SHiP mode is non-functional (drops binary messages, requires ABI deserialization)
# Use CHAIN_SOURCE=substreams for production and development
CHAIN_SOURCE=substreams

# SHiP (State History Plugin) Configuration - Only used if CHAIN_SOURCE=ship
# WARNING: SHiP binary deserialization is NOT implemented
# Setting CHAIN_SOURCE=ship will cause immediate startup failure
# If SHiP support is required, see backend/src/indexer/shipEventSource.js for implementation notes
# Recommended libraries: eosio-ship-reader, @greymass/eosio
SHIP_URL=ws://localhost:8080
START_BLOCK=0
END_BLOCK=0xffffffff

# Neo4j Graph Database
GRAPH_URI=bolt://localhost:7687
GRAPH_USER=neo4j
GRAPH_PASSWORD=polarisdev

# Neo4j Schema Management
# GRAPH_INIT_SCHEMA: Initialize database schema (constraints, indexes) on startup
#   - true: Run initializeSchema() during server start (recommended for dev/staging)
#   - false: Skip schema initialization (use for prod if managing schema separately)
#   - Default: true (runs unless explicitly set to 'false')
GRAPH_INIT_SCHEMA=true

# GRAPH_RUN_MIGRATIONS: Run pending database migrations on startup
#   - true: Automatically run migrations that haven't been applied yet
#   - false: Skip migrations (manual migration required)
#   - Default: false (must be explicitly enabled for safety)
#   - WARNING: Only enable in controlled environments; migrations can modify data
GRAPH_RUN_MIGRATIONS=false

# Redis Cache
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=polarisdev

# IPFS Storage
IPFS_URL=http://localhost:5001

# S3/MinIO Storage
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=polaris
S3_SECRET_KEY=polarisdev123
S3_BUCKET=polaris-events
S3_REGION=us-east-1

# API Configuration
NODE_ENV=development
# PORT=3001 for local development (Docker uses 3000)
PORT=3001
# CORS_ORIGIN supports comma-separated list for multiple dev origins
# Example: http://localhost:5173,http://localhost:4173
CORS_ORIGIN=http://localhost:5173
LOG_LEVEL=debug

# Security: Signature Verification
# ALLOW_UNSIGNED_EVENTS: Bypass cryptographic signature verification for events
#   - WARNING: DO NOT set to 'true' in production - undermines verifiability guarantees
#   - Only use for isolated testing with mock data (e.g., unit tests)
#   - Default: undefined (strict verification enforced)
#   - Tests automatically set this to 'true' via test/setup.js
# ALLOW_UNSIGNED_EVENTS=true
