# Polaris Music Registry - Environment Variables
# Copy this file to .env and update with your values

# ====================
# Blockchain Configuration
# ====================
# Default: Jungle4 testnet for development
# For EOS mainnet, use:
#   CHAIN_ID=aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906
#   RPC_URL=https://eos.greymass.com
CHAIN_ID=73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d
RPC_URL=https://jungle4.greymass.com
CONTRACT_ACCOUNT=polaris

# ====================
# Graph Database (Neo4j)
# ====================
GRAPH_URI=bolt://localhost:7687
GRAPH_USER=neo4j
GRAPH_PASSWORD=polarisdev

# ====================
# Storage Configuration
# ====================
# IPFS
IPFS_URL=http://localhost:5001

# S3 (MinIO for local dev)
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=polaris
S3_SECRET_KEY=polarisdev123
S3_BUCKET=polaris-events
S3_REGION=us-east-1

# ====================
# Redis Cache
# ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=polarisdev

# ====================
# API Server Configuration
# ====================
NODE_ENV=development
PORT=3000
CORS_ORIGIN=http://localhost:5173
LOG_LEVEL=debug

# ====================
# Event Processor Configuration
# ====================
START_BLOCK=0
BATCH_SIZE=100
POLL_INTERVAL=5000

# ====================
# Frontend Configuration
# ====================
VITE_API_URL=http://localhost:3000
VITE_GRAPHQL_URL=http://localhost:3000/graphql

# ====================
# Substreams Chain Ingestion (Optional)
# ====================
# Get your API token from https://app.pinax.network
# Uncomment and set to enable automated blockchain event ingestion
# IMPORTANT: Endpoint must match the chain used above (CHAIN_ID/RPC_URL)

# SUBSTREAMS_API_TOKEN=your_pinax_api_token_here
# SUBSTREAMS_API_KEY=your_pinax_api_key_here         # Alternative name (either works)
# SUBSTREAMS_ENDPOINT=jungle4.substreams.pinax.network:443    # Default: Jungle4 testnet
# SUBSTREAMS_ENDPOINT=eos.substreams.pinax.network:443        # For EOS mainnet

# Substreams package configuration
# CRITICAL: Params must use module-keyed format: <module_name>=<value>
# NOTE: Do NOT use quotes in param values - they will be passed literally to the CLI
#
# DEFAULT (Recommended): Local package with embedded contract ABI
#   - Package is built automatically in Docker image build
#   - No dependency on Pinax having our contract ABI
#   - Works reliably on testnets and custom deployments
# SUBSTREAMS_PACKAGE=/app/substreams/polaris_music_substreams-v0.1.0.spkg  # (default)
# SUBSTREAMS_MODULE=map_anchored_events                                      # (default)
# SUBSTREAMS_PARAMS=map_anchored_events=polaris                              # (default)
#
# FALLBACK: Pinax foundational modules (requires Pinax to have your contract ABI)
#   - May fail silently if Pinax cannot decode contract actions
#   - Only use if local package build fails
# SUBSTREAMS_PACKAGE=https://spkg.io/pinax-network/antelope-common-v0.4.0.spkg
# SUBSTREAMS_MODULE=filtered_actions
# SUBSTREAMS_PARAMS=filtered_actions=code:polaris && action:put
